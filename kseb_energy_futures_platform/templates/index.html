{% extends "layouts/base_layout.html" %}

<!-- Set the page title for the Home Page -->
{% block title %}Home - KSEB Energy Futures Platform{% endblock %}

{% block content %}
<!-- Top bar for displaying current project information and actions -->
<div class="top-bar">
    <div class="project-info">
        <span>Current Project: <strong id="current-project-name">Sample Project Alpha</strong></span>
        <!-- Button to trigger changing the active project -->
        <button id="change-project-btn" class="btn btn-secondary btn-small">Change Project</button>
    </div>
    <!-- Placeholder for other top-bar elements like user profile or global search -->
</div>

<!-- Main grid layout for the home page content -->
<div class="home-grid">
    <!-- Left panel for recent projects and activities -->
    <aside class="left-panel">
        <section class="recent-projects">
            <h2>Recent Projects</h2>
            <!-- List to be populated by JavaScript with recent projects -->
            <ul id="recent-projects-list" class="item-list">
                <!-- Sample item (will be replaced by JS) -->
                <li><a href="#">Loading recent projects...</a></li>
            </ul>
        </section>

        <section class="recent-activities">
            <h2>Recent Activities</h2>
            <!-- List to be populated by JavaScript with recent platform activities -->
            <ul id="recent-activities-list" class="item-list">
                <!-- Sample item (will be replaced by JS) -->
                <li>Loading recent activities...</li>
            </ul>
        </section>
    </aside>

    <!-- Main content area of the home page, primarily for quick actions -->
    <main class="main-content-home">
        <section class="quick-actions-panel">
            <h2>Quick Actions</h2>
            <!-- Grid for quick action buttons -->
            <div class="actions-grid">
                <button id="new-project-btn" class="btn btn-primary">New Project</button>
                <button id="open-project-btn" class="btn btn-primary">Open Project</button>
                <button id="save-project-btn" class="btn btn-secondary">Save Project</button>
                <hr class="action-divider"> <!-- Visual separator -->
                <button id="run-demand-forecast-btn" class="btn btn-secondary">Run Demand Forecast</button>
                <button id="generate-load-profile-btn-home" class="btn btn-secondary">Generate Load Profile</button> <!-- Ensure unique ID if also on module page -->
                <button id="run-pypsa-btn" class="btn btn-accent">Run PyPSA Model</button>
                <button id="view-pypsa-results-home-btn" class="btn btn-secondary">View PyPSA Results</button>
                <hr class="action-divider">
                <button id="data-manager-btn" class="btn btn-tertiary">Data Manager</button>
                <button id="user-settings-btn" class="btn btn-tertiary">User Settings</button>
                <button id="help-docs-btn" class="btn btn-tertiary" onclick="window.location.href='{{ url_for('user_guide_page') }}'">Help/Docs</button>
                <button id="admin-panel-btn" class="btn btn-tertiary" onclick="window.location.href='{{ url_for('admin_feature_management_page') }}'">Admin Panel</button>
            </div>
        </section>
        <!-- Placeholder for welcome message or other main content -->
        <section class="welcome-message" style="margin-top: var(--spacing-lg);">
            <h3>Welcome to the KSEB Energy Futures Platform!</h3>
            <p>This platform provides tools for energy planning, demand forecasting, load profile generation, and power system co-optimisation using PyPSA.</p>
            <p>Use the "Quick Actions" to start common tasks, or navigate to specific modules using the main navigation (if available) or by first creating/loading a project.</p>
        </section>
    </main>

    <!-- Right panel for system status or other contextual information -->
    <aside class="right-panel">
        <section class="system-status-dashboard">
            <h2>System Status</h2>
            <!-- List to display various system status indicators -->
            <ul id="system-status-list" class="item-list">
                <li>PyPSA Solver: <span id="status-pypsa-solver" class="status-ok">Online</span></li>
                <li>Database Connection: <span id="status-database" class="status-ok">Connected</span></li>
                <li>Compute Resources: <span id="status-compute" class="status-warning">High Load</span></li>
                <li>Last Platform Backup: <span id="last-backup-status">2024-08-15 02:00 AM</span></li>
                <!-- More status items can be added -->
            </ul>
        </section>
        <section class="notifications-panel" style="margin-top: var(--spacing-lg);">
            <h2>Notifications</h2>
            <ul id="notifications-list" class="item-list">
                <li><small>Aug 14: PyPSA Model "HighRE_Scenario" completed.</small></li>
                <li><small>Aug 13: New technology cost data imported by Admin.</small></li>
                <!-- Notifications can be dynamically added here -->
            </ul>
        </section>
    </aside>
</div>
{% endblock %}
