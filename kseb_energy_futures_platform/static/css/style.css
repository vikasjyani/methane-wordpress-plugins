/* Basic styles for KSEB Energy Futures Platform */
body {
    font-family: Arial, sans-serif; margin: 0; padding: 0;
    background-color: #f0f2f5; color: #333; line-height: 1.6;
}
header {
    background-color: #003366; color: #fff; padding: 1rem 0;
    text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
header h1 { margin: 0; font-size: 1.8rem; }
nav ul { list-style-type: none; padding: 0; text-align: center; margin-top: 0.5rem; }
nav ul li { display: inline; margin-right: 25px; }
nav a { color: #fff; text-decoration: none; font-size: 1rem; }
nav a:hover { text-decoration: underline; }

.container, .module-container {
    width: 90%; margin: 1rem auto; overflow: hidden; padding: 1rem;
    background-color: #fff; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.05);
}
.module-container { width: 95%; }
.results-dashboard-container { width: 98%; max-width:1600px;}
.admin-panel-container { width: 98%; max-width: 1400px; }
.helper-page-container { width: 95%; max-width: 1200px; } /* For User Guide, etc. */


footer {
    text-align: center; padding: 1rem 0; margin-top: 2rem;
    background-color: #e9ecef; color: #6c757d; border-top: 1px solid #dee2e6;
}

/* Home Page Specific Styles & Other Module Styles (Collapsed for brevity) */
/* ... Assume styles for .top-bar, .home-grid, .quick-actions-panel, etc. are present ... */
/* ... Assume styles for .form-container, .form-section, .form-group, buttons, tables are present ... */
/* ... Assume styles for .chart-placeholder, .modal, .progress-bar, .toggle-switch are present ... */

.left-panel h2, .main-content-home h2, .right-panel h2, .form-container h2, .module-container h2 {
    font-size: 1.4rem; color: #003366; margin-top: 0; margin-bottom: 1.2rem;
    border-bottom: 2px solid #e0e0e0; padding-bottom: 0.6rem;
}
.module-container > p { margin-bottom: 1.5rem; font-size: 1rem; color: #555; }
#pypsa-dashboard-title .scenario-name-placeholder { color: #0056b3; font-weight: bold;}

.status-ok { color: #28a745; font-weight: bold; }
.status-warning { color: #ffc107; font-weight: bold; }
.status-error { color: #dc3545; font-weight: bold; }
.status-completed { color: #28a745; }
.status-running { color: #17a2b8; }
.status-failed { color: #dc3545; }
.status-display-area { padding: 0.75rem; border-radius: 4px; margin-top: 1rem; font-size: 0.9rem;}
.status-ok-bg { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;}
.status-error-bg { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;}

/* PyPSA Results Visualization Styles (Collapsed for brevity) */
/* ... Assume styles for #pypsa-selected-scenario-details, .results-tabs-nav, .tab-content, .key-metrics-grid, etc. are present ... */

/* Admin Panel Styles (Collapsed for brevity) */
/* ... Assume styles for .admin-status, .feature-tables-container, .toggle-switch, .system-health-overview, etc. are present ... */
.btn-danger { background-color: #dc3545; color: white; }
.btn-danger:hover { background-color: #c82333; }


/* Helper Pages Styles */
.user-guide-search-bar {
    display: flex; margin-bottom: 1.5rem;
}
#user-guide-search {
    flex-grow: 1; padding: 0.75rem; font-size: 1rem;
    border: 1px solid #ccc; border-radius: 4px 0 0 4px;
}
.user-guide-search-bar button {
    border-radius: 0 4px 4px 0; margin-left: -1px; /* Align with input */
    padding: 0.75rem 1.2rem; /* Match input height */
}

.user-guide-layout {
    display: grid; grid-template-columns: 1fr 3fr; /* TOC | Content */
    gap: 2rem; margin-bottom: 1.5rem;
}
.user-guide-toc {
    background-color: #f8f9fa; padding: 1rem; border-radius: 6px;
    border: 1px solid #e0e0e0; max-height: 70vh; overflow-y: auto;
}
.user-guide-toc h3 {
    font-size: 1.2rem; color: #003366; margin-top: 0; margin-bottom: 0.75rem;
}
#user-guide-toc-list { list-style: none; padding-left: 0; }
#user-guide-toc-list ul { list-style: none; padding-left: 1rem; margin-top: 0.25rem; }
#user-guide-toc-list li { margin-bottom: 0.3rem; }
#user-guide-toc-list a {
    text-decoration: none; color: #0056b3; display: block; padding: 0.3rem 0.5rem;
    border-radius: 4px; transition: background-color 0.2s ease;
}
#user-guide-toc-list a:hover { background-color: #e9ecef; color: #003366; }
#user-guide-toc-list a.active-topic { background-color: #0056b3; color: #fff; }


.user-guide-content-area {
    padding: 1rem; background-color: #fff; border-radius: 6px;
    border: 1px solid #e0e0e0; min-height: 50vh; /* Ensure it has some height */
}
.user-guide-content-area h3 { /* Title for the current topic */
    font-size: 1.3rem; color: #003366; margin-top: 0; margin-bottom: 1rem;
}
.user-guide-content-area h4 { /* Sub-headings within content */
    font-size: 1.1rem; color: #004080; margin-top: 1.2rem; margin-bottom: 0.6rem;
}
.user-guide-content-area p { margin-bottom: 0.8rem; line-height: 1.7; }

.helper-page-actions { text-align: right; margin-top: 1rem; }


/* Template Download Page Styles */
.template-download-section { margin-bottom: 2rem; }
.template-download-section h3 { /* Handled by .module-container h3 or similar */ }
.template-download-section p { margin-bottom: 1rem; font-size: 0.95rem; }

/* Re-use .data-table styles for templates table */
#available-templates-table th:last-child, #available-templates-table td:last-child { text-align: center; width: 120px; } /* Action column */
.download-template-btn { font-size: 0.85rem !important; padding: 0.4rem 0.8rem !important; }

.template-documentation-section h3 { /* Handled by .module-container h3 or similar */ }
#template-doc-content { /* Re-use .settings-display-box or define new */
    background-color: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 4px;
    padding: 1.25rem; margin-top: 1rem; min-height: 150px; font-size: 0.9rem;
}
#template-doc-content h4 { font-size: 1.1rem; color: #004080; margin-top: 0; margin-bottom: 0.75rem; }
#template-doc-content ul { padding-left: 1.5rem; margin-top: 0.5rem; }
#template-doc-content li { margin-bottom: 0.3rem; }


/* General Responsive (ensure these are at the end or integrated) */
@media (max-width: 992px) {
    /* ... (previous responsive rules for other modules) ... */
    .user-guide-layout { grid-template-columns: 1fr; } /* Stack TOC and content */
    .user-guide-toc { max-height: none; margin-bottom: 1.5rem; }
}

@media (max-width: 768px) {
    /* ... (previous responsive rules for other modules) ... */
    .user-guide-search-bar { flex-direction: column; }
    #user-guide-search { border-radius: 4px; margin-bottom: 0.5rem; }
    .user-guide-search-bar button { border-radius: 4px; margin-left: 0; width: 100%; }
}

/* Ensure all general responsive rules from previous steps are included and merged correctly */
@media (max-width: 992px) {
    .home-grid, .content-grid-demand, .content-grid-visualization, .content-grid-load-profile, .content-grid-lp-analysis, .content-grid-pypsa, .charts-grid-overview, .charts-grid-compare, .content-grid-pypsa-compare, .charts-grid-admin { grid-template-columns: 1fr; }
    .left-panel, .main-chart, .main-chart-lp, .main-config-pypsa, .summary-solver-pypsa, .controls-stats-lp, .compare-selection-panel, .compare-results-panel, .system-health-overview, .realtime-metrics-grid { grid-column: 1 / -1; }
    .container, .module-container, .form-container { width: 95%; padding: 1rem; }
    .module-container, .form-container { margin-top: 1rem; }
    .top-actions, .status-bar, .profile-info-bar { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
    .top-actions button, .status-bar span, .profile-info-bar div { margin-left:0; margin-bottom: 0.5rem;}
    .modal-content { width: 90%; margin: 15% auto; }
    .results-tabs-nav ul { flex-direction: column;}
    .results-tabs-nav li { margin-right: 0; margin-bottom: 0.25rem;}
    .results-tabs-nav a.tab-link { border-radius: 6px; border-bottom: 1px solid #dee2e6; }
    .results-tabs-nav a.tab-link.active { border-radius: 6px; }
}

@media (max-width: 768px) {
    header h1 { font-size: 1.5rem; }
    nav ul li { margin-right: 15px; }
    .form-actions, .bottom-actions, .modal-actions, .helper-page-actions { text-align: center; }
    .form-actions button, .bottom-actions button, .modal-actions button, .helper-page-actions button { width: 100%; margin-bottom: 0.5rem; margin-left: 0; }
    .form-group-inline, .radio-group-horizontal { flex-direction: column; gap: 0; align-items: stretch;}
    .form-group-inline .form-group { margin-bottom: 1rem;}
    .radio-group-horizontal div { margin-bottom: 0.5rem; }
    .key-metrics-grid { grid-template-columns: 1fr; }
}
